GetProfile:
  tags: [Users]
  summary: Отримати профіль поточного користувача
  security:
    - bearerAuth: []
  responses:
    '200':
      description: Профіль користувача
      content:
        application/json:
          schema:
            $ref: '#/schemas/UserResponse'
    '400':
      $ref: '../shared/responses.yaml#/ValidationError'
    '401':
      $ref: '../shared/responses.yaml#/UnauthorizedError'
    '404':
      $ref: '../shared/responses.yaml#/NotFoundError'

UpdateProfile:
  tags: [Users]
  summary: Оновити профіль користувача
  security:
    - bearerAuth: []
  requestBody:
    required: true
    content:
      application/json:
        schema:
          $ref: '#/schemas/UserUpdateRequest'
  response:
    '200':
      description: Профіль оновлений
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/UserResponse'
    '400':
      $ref: '../shared/responses.yaml#/ValidationError'
    '401':
      $ref: '../shared/responses.yaml#/UnauthorizedError'
    '404':
      $ref: '../shared/responses.yaml#/NotFoundError'

schemas:
  UserUpdateRequest:
    type: object
    properties:
      firstName:
        type: string
        nullable: true
        example: 'John'
      lastName:
        type: string
        nullable: true
        example: 'Doe'
      avatarUrl:
        type: string
        nullable: true
        example: 'https://example.com/avatar.jpg'
      preferences:
        type: object
        nullable: true
        properties:
          language:
            type: string
            example: 'uk'
          theme:
            type: string
            enum: [light, dark, auto]
            example: 'auto'
          emailNotifications:
            type: boolean
            example: true

  UserResponse:
    type: object
    properties:
      id:
        type: string
        example: 'clt1234567890abcdef'
      email:
        type: string
        format: email
        example: 'user@example.com'
      firstName:
        type: string
        nullable: true
        example: 'John'
      lastName:
        type: string
        nullable: true
        example: 'Doe'
      avatarUrl:
        type: string
        nullable: true
        example: 'https://example.com/avatar.jpg'
      preferences:
        type: object
        nullable: true
        properties:
          language:
            type: string
            example: 'uk'
          theme:
            type: string
            enum: [light, dark, auto]
            example: 'auto'
          emailNotifications:
            type: boolean
            example: true
      createdAt:
        type: string
        format: date-time
      updatedAt:
        type: string
        format: date-time
